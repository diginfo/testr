dwap.page.cpref=function(e,t){if(!e)return"";var a=e.replace(/\^/g,"."),i=a.split("."),n="inv^cp_man&CP_ID="+i[0];return"CP TBA"==i[0]?"<span class='cp'>"+a+"</span></a>":`<a href="javascript:newtab('${n}');"><span class='"+cls+"'>${a}</span></a>`},dwap.page.ddref=function(e,t){if(!e)return"";var a=e.replace(/\^/g,".");a.split(".");return"<span class='demand'>"+a+"</span></a>"},dwap.page.ssref=function(e,t){if(!e)return"";var a=e.replace(/\^/g,".");return`<a href="javascript:newtab('${"vwltsa^sa_jobman&WOREF="+a.split(".")[0]}');"><span class='"+cls+"'>${a}</span></a>`},dwap.page.integer=function(e,t){var a=eui.integer(e);return a<0?'<span class="negative">'+a+"</span>":"CP TBA"==t.CP_REF&&""==t.SUPPLY_ORDER?'<span class="negative">'+a+"</span>":a},dwap.page.dd=function(e,t){var a=eui.integer(e);return"0.00"===a?"":'<span class="demand">'+a+"</span>"},dwap.page.exception=function(e,t){if(!e)return"";var a=e.replace(/\^/g,".");a.split(".");return"<span class='exception'>"+a+"</span></a>"},dwap.page.ss=function(e,t){var a=eui.integer(e);return"0.00"===a?"":'<span class="supply">'+a+"</span>"},$("#cpplan").datagrid({toolbar:"#tbar",fit:!0,fitColumns:!1,queryParams:frm2dic($("form#gFilter")),url:"/?_sqlid=inv^cpplan&_func=get",checkOnSelect:!1,singleSelect:!0,columns:[[{field:"PART_ID",title:"Part ID"},{field:"CUST_PART_ID",title:"Cust Part"},{field:"CP_DATE",title:"CP Date",formatter:eui.date,width:80,fixed:!0},{field:"CP_REF",title:"CP ID",formatter:dwap.page.cpref,width:100,fixed:!0},{field:"CUST_PO",title:"Cust PO"},{field:"DEMAND_ORDER",title:"Demand Order",formatter:dwap.page.ddref,width:125,fixed:!0},{field:"DEMAND_QTY",title:"Demand Qty",formatter:dwap.page.dd,width:80,fixed:!0,align:"right"},{field:"PROJ_QTY",title:"Projected Bal",formatter:dwap.page.integer,width:80,fixed:!0,align:"right"},{field:"SUPPLY_ORDER",title:"Supply Order",formatter:dwap.page.ssref,width:125,fixed:!0},{field:"SUPPLY_QTY",title:"Supply Qty",formatter:dwap.page.ss,width:80,fixed:!0,align:"right"},{field:"ACTION",title:"Action"},{field:"DESCRIPTION",title:"Description",width:200,fixed:!1},{field:"EXCEPTION",title:"Exception",formatter:dwap.page.exception,width:125,fixed:!0}]],onLoadSuccess:function(e){$("#dg2excel").linkbutton("enable")}}).datagrid("columns",$("#colsel")),$(document).ready(function(){$("form#gfilter").form({onChange:function(e){$("#cpplan").datagrid("reload",frm2dic($("form#gfilter")))}}),$("#CUSTOMER_ID_").combobox({onSelect:function(e){$("#CUSTOMER_NAME_").textbox("setValue",e.NAME)}})});